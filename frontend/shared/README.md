# Инструменты для работы с Firebase Firestore

В этой директории находятся скрипты и руководства для работы с Firebase Firestore.

## Заполнение Firestore тестовыми данными

### Вариант 1: Изменение правил безопасности (рекомендуется для разработки)

1. Следуйте инструкциям в файле [firestore-rules-guide.md](./firestore-rules-guide.md) для изменения правил безопасности Firestore.
2. После изменения правил безопасности запустите скрипт:

```bash
cd frontend/shared
node seed-firestore.js 9wfpc7SokLe1QPw1RoLiJdZPgY93
```

Где `9wfpc7SokLe1QPw1RoLiJdZPgY93` - это ID вашего пользователя.

### Вариант 2: Использование аутентификации

Если вы не хотите менять правила безопасности, вы можете использовать скрипт с аутентификацией:

```bash
cd frontend/shared
node seed-firestore-with-auth.js your-email@example.com your-password 9wfpc7SokLe1QPw1RoLiJdZPgY93
```

Где:
- `your-email@example.com` - email, который вы использовали при регистрации
- `your-password` - пароль от вашего аккаунта
- `9wfpc7SokLe1QPw1RoLiJdZPgY93` - ID вашего пользователя

## Получение ID пользователя

Если вы не знаете свой ID пользователя, вы можете:

1. Использовать скрипт `backend/get_user_id.py`:

```bash
cd backend
source venv/bin/activate
python get_user_id.py your-email@example.com
```

2. Или найти его в Firebase Console:
   - Откройте [Firebase Console](https://console.firebase.google.com/)
   - Выберите ваш проект
   - Перейдите в раздел "Authentication"
   - Найдите своего пользователя в списке
   - ID пользователя будет отображаться в таблице или при клике на пользователя

## Что добавляют скрипты?

Скрипты добавляют следующие тестовые данные:

1. **Промпты** (10 шт.) - различные шаблоны промптов для разных задач
2. **Переменные** (5 шт.) - тестовые переменные с разными значениями
3. **История** (3 шт.) - записи истории использования промптов

Все данные привязаны к указанному ID пользователя, поэтому они будут видны только этому пользователю в приложении.

## Настройка правил безопасности для продакшена

Когда вы закончите разработку и тестирование, не забудьте вернуть более строгие правила безопасности для Firestore. Примеры таких правил можно найти в файле [firestore-rules-guide.md](./firestore-rules-guide.md).
